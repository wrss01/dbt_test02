[{"name": "sheet1", "metadata": {"smart_notebook": {"version": 1, "computation_mode": "", "package_manager": "", "base_environment": "", "packages": [], "kernelspec": {"display_name": "Python 3 (ipykernel)", "language": "python", "name": "python3"}}}, "nbformat": 4, "nbformat_minor": 4, "cells": [{"cell_type": "code", "source": ["x=10\ny=20"], "execution_count": 1, "execution_state": "idle", "outputs": [], "metadata": {"smart_notebook": {"type": "code", "cell_id": "3c004044fb52bf47adfb235f2cc7db8e", "hide_input_from_viewers": false, "hide_output_from_viewers": false, "execution_start": 1657258845448, "execution_millis": 102, "source": ["x=10\ny=20"]}}}, {"cell_type": "code", "source": ["x\n"], "execution_count": 2, "execution_state": "idle", "outputs": [{"output_type": "execute_result", "metadata": {}, "data": {"text/plain": "10"}}], "metadata": {"smart_notebook": {"type": "code", "cell_id": "b0090b47345b134b2c38a62324099c5b", "hide_input_from_viewers": false, "hide_output_from_viewers": false, "execution_start": 0, "execution_millis": 78, "source": ["x\n"]}}}, {"cell_type": "code", "source": ["y"], "execution_count": 3, "execution_state": "idle", "outputs": [{"output_type": "execute_result", "metadata": {}, "data": {"text/plain": "20"}}], "metadata": {"smart_notebook": {"type": "code", "cell_id": "019baba8b6f06b47beb996cb85a0e000", "hide_input_from_viewers": false, "hide_output_from_viewers": false, "execution_start": 0, "execution_millis": 111, "source": ["y"]}}}, {"cell_type": "code", "source": ["from  snb_plugin.sql.execute_sql import _smartnotebook_execute_sql\nimport pandas as pd \ndf1 =_smartnotebook_execute_sql(\"\"\" sp_columns titanic; \"\"\",\"0242ac110004-11ed4183-4f8d6924-b720\", context=globals())\nif isinstance(df1,pd.DataFrame):\n    __SNB_DisplayTable(df1)\nelse:\n    print(df1)\n\n"], "execution_count": 7, "metadata": {"smart_notebook": {"type": "sql", "cell_id": "b1379900fca12f475cf8729f93c6a0c5", "hide_input_from_viewers": false, "hide_output_from_viewers": false, "execution_start": 0, "execution_millis": 138, "cell_properties": {"db_id": "0242ac110004-11ed4183-4f8d6924-b720", "variable_name": "df1", "dialect": "", "owner_user_id": "", "source": "sp_columns titanic;\n\n"}, "source": ["from  snb_plugin.sql.execute_sql import _smartnotebook_execute_sql\nimport pandas as pd \ndf1 =_smartnotebook_execute_sql(\"\"\" sp_columns titanic; \"\"\",\"0242ac110004-11ed4183-4f8d6924-b720\", context=globals())\nif isinstance(df1,pd.DataFrame):\n    __SNB_DisplayTable(df1)\nelse:\n    print(df1)\n\n"]}}, "outputs": [{"output_type": "stream", "name": "stdout", "text": ["sp_columns titanic;  \u6267\u884c\u6210\u529f\u3002\n"]}, {"output_type": "display_data", "metadata": {}, "data": {"text/plain": "<IPython.core.display.HTML object>", "text/html": "\n\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n    <title>Ag-Grid Basic Example</title>\n    <script>\n        require.config({\n        paths: {\n            'agGrid':'/ag-grid-community.min'\n        }\n    });\n\n    require(['agGrid'], function(agGrid) {\n    //    agNumberColumnFilter\t\u6570\u5b57\u7c7b\u578b\u8fc7\u6ee4\u5668\uff0c\u63d0\u4f9b\u5927\u4e8e\u3001\u5c0f\u4e8e\u3001\u7b49\u4e8e\u3001\u4e0d\u7b49\u4e8e\u3001\u533a\u95f4\u6570\u5b57\u6bd4\u8f83\n    //    agTextColumnFilter\t\u5b57\u7b26\u4e32\u7c7b\u578b\u5237\u9009\u5668\uff0c\u63d0\u4f9b\u5305\u542b\u3001\u4e0d\u5305\u542b\u3001\u7b49\u4e8e\u3001\u5f00\u59cb\u7b49\u4e8e\u3001\u7ed3\u675f\u7b49\u4e8e\u6bd4\u8f83\n    //    agDateColumnFilter\t\u65f6\u95f4\u7c7b\u578b\u5237\u9009\u5668\uff0c\u63d0\u4f9b\u5927\u4e8e\u3001\u5c0f\u4e8e\u3001\u7b49\u4e8e\u3001\u4e0d\u7b49\u4e8e\u3001\u533a\u95f4\u6570\u5b57\u6bd4\u8f83\n    var columnDefs =[{headerName: 'TABLE_QUALIFIER',field: 'col_id_0'},{headerName: 'TABLE_OWNER',field: 'col_id_1'},{headerName: 'TABLE_NAME',field: 'col_id_2'},{headerName: 'COLUMN_NAME',field: 'col_id_3'},{\n                                       headerName: 'DATA_TYPE',\n                                       field: 'col_id_4',\n                                       valueFormatter: params => params.data.col_id_4.toFixed(0),\n                                       },{headerName: 'TYPE_NAME',field: 'col_id_5'},{\n                                       headerName: 'PRECISION',\n                                       field: 'col_id_6',\n                                       valueFormatter: params => params.data.col_id_6.toFixed(0),\n                                       },{\n                                       headerName: 'LENGTH',\n                                       field: 'col_id_7',\n                                       valueFormatter: params => params.data.col_id_7.toFixed(0),\n                                       },{headerName: 'SCALE',field: 'col_id_8'},{headerName: 'RADIX',field: 'col_id_9'},{\n                                       headerName: 'NULLABLE',\n                                       field: 'col_id_10',\n                                       valueFormatter: params => params.data.col_id_10.toFixed(0),\n                                       },{headerName: 'REMARKS',field: 'col_id_11'},{headerName: 'COLUMN_DEF',field: 'col_id_12'},{\n                                       headerName: 'SQL_DATA_TYPE',\n                                       field: 'col_id_13',\n                                       valueFormatter: params => params.data.col_id_13.toFixed(0),\n                                       },{headerName: 'SQL_DATETIME_SUB',field: 'col_id_14'},{\n                                       headerName: 'CHAR_OCTET_LENGTH',\n                                       field: 'col_id_15',\n                                       valueFormatter: params => params.data.col_id_15.toFixed(0),\n                                       },{\n                                       headerName: 'ORDINAL_POSITION',\n                                       field: 'col_id_16',\n                                       valueFormatter: params => params.data.col_id_16.toFixed(0),\n                                       },{headerName: 'IS_NULLABLE',field: 'col_id_17'},{\n                                       headerName: 'SS_DATA_TYPE',\n                                       field: 'col_id_18',\n                                       valueFormatter: params => params.data.col_id_18.toFixed(0),\n                                       },];\n\n    // specify the data\n    var rowData =[{\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"id\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 0, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 1, \"col_id_17\": \"NO\", \"col_id_18\": 39}, {\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"pclass\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 1, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 2, \"col_id_17\": \"YES\", \"col_id_18\": 39}, {\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"name\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 1, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 3, \"col_id_17\": \"YES\", \"col_id_18\": 39}, {\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"Sex\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 1, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 4, \"col_id_17\": \"YES\", \"col_id_18\": 39}, {\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"Age\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 1, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 5, \"col_id_17\": \"YES\", \"col_id_18\": 39}, {\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"SibSp\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 1, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 6, \"col_id_17\": \"YES\", \"col_id_18\": 39}, {\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"Parch\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 1, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 7, \"col_id_17\": \"YES\", \"col_id_18\": 39}, {\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"Ticket\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 1, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 8, \"col_id_17\": \"YES\", \"col_id_18\": 39}, {\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"Fare\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 1, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 9, \"col_id_17\": \"YES\", \"col_id_18\": 39}, {\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"Cabin\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 1, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 10, \"col_id_17\": \"YES\", \"col_id_18\": 39}, {\"col_id_0\": \"sqlserver_db_test\", \"col_id_1\": \"dbo\", \"col_id_2\": \"titanic\", \"col_id_3\": \"Embarked\", \"col_id_4\": 12, \"col_id_5\": \"varchar\", \"col_id_6\": 255, \"col_id_7\": 255, \"col_id_8\": null, \"col_id_9\": null, \"col_id_10\": 1, \"col_id_11\": null, \"col_id_12\": null, \"col_id_13\": 12, \"col_id_14\": null, \"col_id_15\": 255, \"col_id_16\": 11, \"col_id_17\": \"YES\", \"col_id_18\": 39}];\n\n    // let the grid know which columns and what data to use\n    const gridOptions = {\n        columnDefs: columnDefs,\n        rowData: rowData,\n        floatingFilter: true,\n        domLayout:'autoHeight',\n        onGridReady: function () { \n         //   gridOptions.api.sizeColumnsToFit();//\u8c03\u6574\u8868\u683c\u5927\u5c0f\u81ea\u9002\u5e94\n        },\n        defaultColDef: {\n            resizable: true,//\u662f\u5426\u53ef\u4ee5\u8c03\u6574\u5217\u5927\u5c0f\uff0c\u5c31\u662f\u62d6\u52a8\u6539\u53d8\u5217\u5927\u5c0f\n            filter: true, //\u5f00\u542f\u5237\u9009\n            sortable: true, //\u5f00\u542f\u6392\u5e8f\n        }, \n        pagination: true,  //\u5f00\u542f\u5206\u9875\uff08\u524d\u7aef\u5206\u9875\uff09\n        domLayout:'autoHeight',\n        paginationPageSize: 10,\n        // paginationAutoPageSize: true, //\u6839\u636e\u7f51\u9875\u9ad8\u5ea6\u81ea\u52a8\u5206\u9875\uff08\u524d\u7aef\u5206\u9875\uff09height: 100%; \n    };\n\n        const gridDiv = document.querySelector('#myGrid');\n        new agGrid.Grid(gridDiv, gridOptions);\n    })\n\n        </script>\n    </head>\n    <body>\n        <div id=\"myGrid\" style=\"height: 100%;width:100%;\" class=\"ag-theme-alpine\"></div>\n    </body>\n    </html>\n\n    "}}], "execution_state": "idle"}, {"cell_type": "code", "source": ["df1"], "execution_count": 5, "execution_state": "idle", "outputs": [{"output_type": "execute_result", "metadata": {}, "data": {"text/plain": "Empty DataFrame\nColumns: [TABLE_QUALIFIER, TABLE_OWNER, TABLE_NAME, COLUMN_NAME, DATA_TYPE, TYPE_NAME, PRECISION, LENGTH, SCALE, RADIX, NULLABLE, REMARKS, COLUMN_DEF, SQL_DATA_TYPE, SQL_DATETIME_SUB, CHAR_OCTET_LENGTH, ORDINAL_POSITION, IS_NULLABLE, SS_DATA_TYPE]\nIndex: []", "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>TABLE_QUALIFIER</th>\n      <th>TABLE_OWNER</th>\n      <th>TABLE_NAME</th>\n      <th>COLUMN_NAME</th>\n      <th>DATA_TYPE</th>\n      <th>TYPE_NAME</th>\n      <th>PRECISION</th>\n      <th>LENGTH</th>\n      <th>SCALE</th>\n      <th>RADIX</th>\n      <th>NULLABLE</th>\n      <th>REMARKS</th>\n      <th>COLUMN_DEF</th>\n      <th>SQL_DATA_TYPE</th>\n      <th>SQL_DATETIME_SUB</th>\n      <th>CHAR_OCTET_LENGTH</th>\n      <th>ORDINAL_POSITION</th>\n      <th>IS_NULLABLE</th>\n      <th>SS_DATA_TYPE</th>\n    </tr>\n  </thead>\n  <tbody>\n  </tbody>\n</table>\n</div>"}}], "metadata": {"smart_notebook": {"type": "code", "cell_id": "d52f590e1d3d214ff31a3431d3189367", "hide_input_from_viewers": false, "hide_output_from_viewers": false, "execution_start": 0, "execution_millis": 88, "source": ["df1"]}}}], "inputVisible": false}]